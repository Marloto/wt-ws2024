<!DOCTYPE html>
<html>
<head>
    <title>API Request Übung</title>
</head>
<body>
    <h2>Posts von JSONPlaceholder</h2>
    <button onclick="loadPostsXHR()">Lade Post</button>
    <div id="output"></div>

    <script>
    // API URL für GET Request
    const API_URL = 'https://jsonplaceholder.typicode.com/posts/1';

    function loadPostsXHR() {
        // TODO: Implementiere einen GET Request mit XMLHttpRequest
        // - Ergebnis soll im output-Element angezeigt werden
        // - Zeige mindestens title und body des Posts an
        // - Behandle mögliche Fehler

        const element = document.getElementById("output");
        const req = new XMLHttpRequest();
        // alternativ .onreadystatechange
        req.onload = function() {
            if(req.status === 200) {
                const text = req.responseText;
                const data = JSON.parse(text);
                console.log(data);
                element.textContent = `${data.title}: ${data.body}`;
            } else {
                element.textContent = `Fehler beim Laden, keine Posts vorhanden`;
            }
        };
        req.onerror = function() {
            element.textContent = `Fehler beim Kommunizieren`;
        };
        req.open("GET", API_URL, true);
        req.send();








    }
    </script>
</body>
</html>