<!DOCTYPE html>
<html>
<head>
    <title>XMLHttpRequest States</title>
</head>
<body>
    <h2>Simple Request States</h2>
    <button onclick="loadData()">Start Request</button>
    <div id="state"></div>
    <div id="output"></div>

    <script>
    function loadData() {
        const xhr = new XMLHttpRequest();

        xhr.onreadystatechange = function() {
            console.log(`ReadyState: ${xhr.readyState}`);
            document.getElementById('state').textContent =
                `ReadyState: ${xhr.readyState}`;

            if (xhr.readyState === 4 && xhr.status === 200) {
                const data = JSON.parse(xhr.responseText);
                console.log('Daten geladen:', data.title);
                document.getElementById("output").textContent = data[0].title;
            }
        };

        xhr.open('GET', 'https://jsonplaceholder.typicode.com/todos');
        xhr.send();
    }
    </script>
</body>
</html>